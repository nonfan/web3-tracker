# 拖拽排序功能指南

## 功能概述

项目和代币卡片现在支持拖拽排序功能，允许您自定义卡片的显示顺序。

## 使用方法

### 1. 启用自定义排序

在排序下拉菜单中选择"自定义排序"选项。这将启用拖拽功能。

### 2. 拖拽卡片

- 点击并按住任意卡片
- 拖动到目标位置
- 释放鼠标完成排序

### 3. 自动保存

排序顺序会自动保存到本地存储，下次打开应用时会保持您的自定义顺序。

## 排序选项

### 项目页面
- **自定义排序** - 使用拖拽自定义顺序
- **创建时间** - 按创建时间降序
- **最近更新** - 按更新时间降序
- **优先级** - 按优先级排序（高 → 中 → 低）
- **截止日期** - 按截止日期升序
- **名称** - 按名称字母顺序

### 代币页面
- **自定义排序** - 使用拖拽自定义顺序
- **创建时间** - 按创建时间降序
- **最近更新** - 按更新时间降序
- **名称** - 按名称字母顺序

## 技术实现

### 使用的库
- `@dnd-kit/core` - 核心拖拽功能
- `@dnd-kit/sortable` - 排序功能
- `@dnd-kit/utilities` - 工具函数

### 数据持久化
- 排序顺序存储在 Zustand store 中
- 通过 `persist` 中间件自动保存到 localStorage
- 键名：`projectOrder` 和 `tokenOrder`

### 状态管理
```typescript
// Store 中的新增状态
projectOrder: string[]  // 项目 ID 数组
tokenOrder: string[]    // 代币 ID 数组

// 新增方法
reorderProjects: (newOrder: string[]) => void
reorderTokens: (newOrder: string[]) => void
```

## 注意事项

1. **筛选和排序**：当使用其他排序方式时，拖拽功能会自动切换回"自定义排序"
2. **筛选器影响**：拖拽只影响当前筛选结果中的卡片顺序
3. **删除和恢复**：删除项目/代币时会从排序数组中移除，恢复时会添加到末尾
4. **视觉反馈**：拖拽时卡片会变为半透明，提供清晰的视觉反馈

## 兼容性

- 支持鼠标拖拽
- 支持键盘操作（使用方向键）
- 响应式设计，支持移动端触摸操作
